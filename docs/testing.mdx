---
title: 'Snapshot Testing'
---

Adding [snapshot tests with Jest](https://facebook.github.io/jest/docs/en/snapshot-testing.html) is a great way to help avoid unintended changes to your app's UI.

By diffing the serialized value of your React tree Jest can show you what changed in your app and allow you to fix it or update the snapshot.

By default snapshots with emotion show generated class names. Adding [@emotion/jest](https://github.com/emotion-js/emotion/tree/master/packages/jest) allows you to output the actual styles being applied.

<img height="360px" src="https://user-images.githubusercontent.com/514026/31314015-02b79ca6-abc3-11e7-8f70-1edb31c7f43b.jpg"/>

### Installation

```bash
npm install --save-dev @emotion/jest
```

Add the snapshot serializer to the [`snapshotSerializers`](http://facebook.github.io/jest/docs/en/configuration.html#setuptestframeworkscriptfile-string) option

```json
{
  "snapshotSerializers": ["@emotion/jest"]
}
```

or use `expect.addSnapshotSerializer`

```jsx
import serializer from '@emotion/jest'

expect.addSnapshotSerializer(serializer)
```

### Writing a test

Writing a test with `@emotion/jest` involves creating a snapshot from the `react-test-renderer` or `enzyme-to-json`'s resulting JSON.

```jsx
import React from 'react'
/** @jsx jsx */
import { jsx } from '@emotion/react'
import renderer from 'react-test-renderer'


const Button = props => (
  <button
    css={{
      color: 'hotpink'
    }}
    {...props}
  />
)

test('Button renders correctly', () => {
  expect(
    renderer
      .create(<Button>This is hotpink.</Button>)
      .toJSON()
  ).toMatchSnapshot()
})
```

It'll create a snapshot that looks like this.

```jsx
// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`Button renders correctly 1`] = `
.emotion-0 {
  color: hotpink;
}

<div
  className="emotion-0"
>
  This is hotpink.
</div>
`
```

When the styles of a component change, the snapshot will fail and you'll be able to update the snapshot or fix the component.
